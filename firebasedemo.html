<html>
<head>
	
<script src="https://www.gstatic.com/firebasejs/5.10.1/firebase.js"></script>

<script>

 
var config = {
    apiKey: "",
    authDomain: "fer272-237805.firebaseapp.com",
    databaseURL: "https://fer272-237805.firebaseio.com",
    projectId: "fer272-237805",
    storageBucket: "fer272-237805.appspot.com",
    messagingSenderId: "981629924823"
  };
  firebase.initializeApp(config);
  console.log(firebase);

  function update(){
  	 
 
  var database = firebase.database();
  var ref = database.ref('scores/spaceinvaders');

  var data = {
  	name : "DTS",
  	score : 43
  }
  ref.push(data);
   ref.push(data); ref.push(data);

  }
  function retrieve(){ 	 
  var database = firebase.database();
  var ref = database.ref('scores');
  ref.on('value',gotData,errData);
  function gotData(data){
  	scores = data.val();
  	var keys = Object.keys(scores);
  	for(var i=0;i<keys.length;i++){
  		var k = keys[i];
  		var initials = scores[k].initials;
  		var score = scores[k].score;
  		console.log(initials,score);

  	}

  }
  function errData(err){
  	console.log("Error...");
  	console.log(err);

  }
  var data = {
  	name : "DTS",
  	score : 43
  }
  ref.push(data);

  }
</script>
</head>
<body>
	<button onclick="update();">UPDATE</button>
	<button onclick="retrieve();">RETRIEVE</button>
	
</body>
</html>